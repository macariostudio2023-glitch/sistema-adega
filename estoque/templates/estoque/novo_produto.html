{% extends "estoque/base.html" %}
{% block title %}Novo Produto - Sistema Adega{% endblock %}

{% block content %}

<style>
  /* üîí corre√ß√£o de layout: cada campo em uma linha */
  .field {
    margin-bottom: 14px;
  }
  .field label {
    display: block;
    margin-bottom: 6px;
  }
  .field input,
  .field select {
    display: block;
    width: 100%;
  }
</style>

<h2>üÜï Cadastrar Produto</h2>
<p>Esse c√≥digo n√£o existe ainda. Cadastre para continuar.</p>

{% if messages %}
  <ul class="messages">
    {% for message in messages %}
      <li class="msg {% if message.tags == 'error' %}msg-error{% endif %}{% if message.tags == 'success' %}msg-success{% endif %}">
        {{ message }}
      </li>
    {% endfor %}
  </ul>
{% endif %}

{% if form %}
  <form method="post">
    {% csrf_token %}

    <div class="field">
      <label>C√≥digo de barras</label>
      {{ form.codigo_barras }}
    </div>

    <div class="field">
      <label>Nome do produto</label>
      {{ form.nome }}
    </div>

    <div class="field">
      <label>Categoria</label>
      {{ form.categoria }}
    </div>

    <!-- ‚úÖ agora o custo fica sempre ABAIXO -->
    <div class="field">
      <label>Pre√ßo de custo</label>
      {{ form.preco_custo }}
    </div>

    <div class="field">
      <label>Pre√ßo de venda</label>
      {{ form.preco_venda }}
    </div>

    <div class="field">
      <label>Estoque inicial</label>
      {{ form.estoque_inicial }}
    </div>

    <div class="actions">
      <button class="confirm" type="submit">Salvar Produto</button>
    </div>

    <div class="hint">
      Ap√≥s salvar, voc√™ volta automaticamente para continuar a opera√ß√£o.
    </div>
  </form>
{% else %}
  <p>N√£o foi poss√≠vel abrir o cadastro (faltou o c√≥digo).</p>
{% endif %}

{% endblock %}
